(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af6df6e6"],{"0fa6":function(t,e,a){},1898:function(t,e,a){"use strict";var s=a("8f6b"),r=a.n(s);r.a},"27a6":function(t,e,a){},"7d03":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin-navber-box"},[a("router-link",{attrs:{to:"/admin/index"}},[a("img",{staticClass:"logo mt-3",attrs:{src:"https://mitjobs.s3.amazonaws.com/uploads/organization/520/cover_photo/shopline-logo-white-on-blue.png",alt:""}})]),a("div",{staticClass:"col store_logo"},[a("div",{staticClass:"logoName"},[a("router-link",{staticClass:"text-center",attrs:{to:"/"}},[a("h5",{staticClass:"navbar-title"},[t._v("MuseClub")]),a("h5",{staticClass:"storename mt-2"},[t._v("繆斯俱樂部")])])],1)]),a("div",{staticClass:"w-100 store_nav"},[t._m(0),a("div",{staticClass:"collapse bg-secondary",attrs:{id:"saleModelNav"}},[a("router-link",{staticClass:"btn btn-secondary btn-block nav_item text-white",attrs:{to:"/admin/index"}},[t._v("商店基本資料")])],1),t._m(1),a("div",{staticClass:"collapse bg-secondary",attrs:{id:"productModelNav"}},[a("router-link",{staticClass:"btn btn-secondary btn-block nav_item text-white",attrs:{to:"/admin/productmodel/product_mange"}},[t._v("產品管理")]),a("router-link",{staticClass:"btn btn-secondary btn-block nav_item text-white",attrs:{to:"/admin/productmodel/order_mange"}},[t._v("訂單管理")]),a("router-link",{staticClass:"btn btn-secondary btn-block nav_item text-white",attrs:{to:"/admin/productmodel/deliveryNotice"}},[t._v("貨到通知管理")]),a("router-link",{staticClass:"btn btn-secondary btn-block nav_item text-white",attrs:{to:"/admin/coupon/managePage"}},[t._v("折價券管理")]),a("router-link",{staticClass:"btn btn-secondary btn-block nav_item text-white",attrs:{to:"/admin/coupon/makingPage"}},[t._v("新增折價券")])],1),t._m(2),a("div",{staticClass:"collapse bg-secondary",attrs:{id:"marketingModelNav"}},[a("router-link",{staticClass:"btn btn-secondary btn-block nav_item text-white",attrs:{to:"/admin/marketingmodel/track_code"}},[t._v("追蹤碼設定")])],1)])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-dark btn-block",attrs:{"data-toggle":"collapse",type:"button","data-target":"#saleModelNav"}},[a("i",{staticClass:"fas fa-clone"}),t._v(" 商家資料\n    ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-dark btn-block",attrs:{"data-toggle":"collapse","data-target":"#productModelNav"}},[a("i",{staticClass:"fas fa-boxes"}),t._v(" 產品模組\n    ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-dark btn-block",attrs:{"data-toggle":"collapse",href:"#marketingModelNav"}},[a("i",{staticClass:"fas fa-bullhorn"}),t._v(" 行銷模組\n    ")])}],n=(a("8d17"),a("2877")),i={},o=Object(n["a"])(i,s,r,!1,null,"34d57d9e",null);e["a"]=o.exports},"8d17":function(t,e,a){"use strict";var s=a("27a6"),r=a.n(s);r.a},"8f6b":function(t,e,a){},be6c:function(t,e,a){"use strict";a("6b54"),a("7f7f");var s=a("2fa3");e["a"]={getIndex:function(){return s["b"].get("/admin/index")},putStoreInfo:function(t){var e=t.name,a=t.description;return s["b"].put("/admin/index",{name:e,description:a})},getProductManagePage:function(t){var e=t.page,a=t.launched,r=new URLSearchParams({page:e,launched:a});return s["b"].get("/admin/productmodel/product_mange?".concat(r.toString()))},putProductLaunched:function(t){var e=t.productId,a=t.launched;return s["b"].put("/admin/productmodel/update?productId=".concat(e,"&launched=").concat(a),{productId:e,launched:a})},deleteProduct:function(t){var e=t.productId;return s["b"].delete("/admin/productmodel/delete/".concat(e),{productId:e})},getProduct:function(t){var e=t.productId;return s["b"].get("/admin/productmodel/update/".concat(e),{productId:e})},putProduct:function(t){var e=t.productId,a=t.formData;return s["b"].put("/admin/productmodel/update/".concat(e),a)},getProductCreatePage:function(){return s["b"].get("/admin/productmodel/create")},postProduct:function(t){var e=t.formData;return s["b"].post("/admin/productmodel/create",e)},getOrderManagePage:function(t){var e=t.page,a=t.orderstatusid,r=t.paymentstatusid,n=t.shipmentstatusid,i=t.orderer,o=new URLSearchParams({page:e,orderstatusid:a,paymentstatusid:r,shipmentstatusid:n,orderer:i});return s["b"].get("/admin/productmodel/order_mange?".concat(o.toString()))},getOrder:function(t){var e=t.orderId;return s["b"].get("/admin/productmodel/order_mange/".concat(e),{orderId:e})},putOrderStatus:function(t){var e=t.orderId,a=t.memo,r=t.OrderStatusId;return s["b"].put("/admin/productmodel/order_mange/".concat(e,"/oderstatus"),{orderId:e,memo:a,OrderStatusId:r})},putPaymentStatus:function(t){var e=t.orderId,a=t.PaymentTypeId,r=t.PaymentStatusId;return s["b"].put("/admin/productmodel/order_mange/".concat(e,"/payment_status"),{orderId:e,PaymentTypeId:a,PaymentStatusId:r})},putShipmentStatus:function(t){var e=t.orderId,a=t.ShipmentStatusId,r=t.ShipmentTypeId,n=t.name,i=t.phone,o=t.address;return s["b"].put("/admin/productmodel/order_mange/".concat(e,"/shipment_status"),{orderId:e,ShipmentStatusId:a,ShipmentTypeId:r,name:n,phone:i,address:o})},getDeliveryNotice:function(){return s["b"].get("/admin/productmodel/deliveryNotice")},deleteDeliveryNotice:function(t){var e=t.deliveryNoticeId;return s["b"].delete("/admin/productmodel/deliveryNotice/".concat(e),{deliveryNoticeId:e})},getCouponManagePage:function(){return s["b"].get("/admin/coupon/managePage")},getCouponEditPage:function(t){var e=t.couponId;return s["b"].get("/admin/coupon/managePage/".concat(e,"/edit"),{couponId:e})},postCouponEdit:function(t){var e=t.couponId,a=t.StoreId,r=t.couponTypeId,n=t.CouponDiscount,i=t.CouponDescription,o=t.available,d=t.expiredDate;return s["b"].post("/admin/coupon/edit",{couponId:e,StoreId:a,couponTypeId:r,CouponDiscount:n,CouponDescription:i,available:o,expiredDate:d})},postCouponMake:function(t){var e=t.storeId,a=t.couponTypeId,r=t.CouponDiscount,n=t.CouponDescription,i=t.expiredDate;return s["b"].post("/admin/coupon/make",{storeId:e,couponTypeId:a,CouponDiscount:r,CouponDescription:n,expiredDate:i})},getTrackCodePage:function(){return s["b"].get("/admin/marketingmodel/track_code")},putGaTrackCode:function(t){var e=t.storeId,a=t.trackGA;return s["b"].put("/admin/marketingmodel/track_code/ga_trackcode",{storeId:e,trackGA:a})}}},e80d:function(t,e,a){"use strict";var s=a("0fa6"),r=a.n(s);r.a},ec5c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isLoading?a("Spinner"):[a("div",{staticClass:"container-fluid admin_layout"},[a("div",{staticClass:"row"},[a("div",{staticClass:"navbar col-10 col-md-2 d-flex flex-column"},[a("AdminNavbar")],1),a("div",{staticClass:"col-md-10 col-12 bg-light p-1"},[a("div",{staticClass:"col-md-11 productmodel_orders"},[a("div",{staticClass:"card my-5"},[a("div",{staticClass:"filiterBar input-group p-3"},[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-filter dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown"}},[t._v("選擇篩選器")]),a("div",{staticClass:"dropdown-menu"},[a("a",{staticClass:"dropdown-item",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.allOrders()}}},[t._v("全部訂單")]),a("a",{staticClass:"dropdown-item",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.searchOrderer()}}},[t._v("訂購人")]),a("a",{staticClass:"dropdown-item",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.orderstatus()}}},[t._v("訂單狀態")]),a("a",{staticClass:"dropdown-item",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.paymentstatus()}}},[t._v("付款狀態")]),a("a",{staticClass:"dropdown-item",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.shipmentstatus()}}},[t._v("送貨狀態")])])]),t.isOrderer?a("div",{staticClass:"input-group mt-3"},[a("form",{staticClass:"w-100",on:{submit:function(e){return e.preventDefault(),t.handleSearch(t.orderer)}}},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.orderer,expression:"orderer"}],staticClass:"form-control",attrs:{type:"text",name:"orderer",placeholder:"輸入訂購人名字"},domProps:{value:t.orderer},on:{input:function(e){e.target.composing||(t.orderer=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-sm btn-sm btn-outline-secondary",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-search"})])])])])]):t._e(),t.isOrderstatus?a("div",{staticClass:"orderStatus ml-4"},[a("ul",{staticClass:"nav nav-pills"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/productmodel/order_mange?orderstatusid=1"}},[t._v("排程中")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/productmodel/order_mange?orderstatusid=2"}},[t._v("處理中")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/productmodel/order_mange?orderstatusid=3"}},[t._v("已完成")])],1)])]):t._e(),t.isPaymentstatus?a("div",{staticClass:"orderStatus ml-4"},[a("ul",{staticClass:"nav nav-pills nav-fill"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/productmodel/order_mange?paymentstatusid=1"}},[t._v("未付款")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/productmodel/order_mange?paymentstatusid=2"}},[t._v("已付款")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/productmodel/order_mange?paymentstatusid=3"}},[t._v("退款中")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/productmodel/order_mange?paymentstatusid=4"}},[t._v("已退款")])],1)])]):t._e(),t.isShipmentstatus?a("div",{staticClass:"orderStatus ml-4"},[a("ul",{staticClass:"nav nav-pills nav-fill"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/productmodel/order_mange?shipmentstatusid=1"}},[t._v("備貨中")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/productmodel/order_mange?shipmentstatusid=2"}},[t._v("發貨中")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/productmodel/order_mange?shipmentstatusid=3"}},[t._v("已發貨")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/productmodel/order_mange?shipmentstatusid=4"}},[t._v("已到達")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/productmodel/order_mange?shipmentstatusid=5"}},[t._v("已取貨")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/productmodel/order_mange?shipmentstatusid=6"}},[t._v("已退貨")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/admin/productmodel/order_mange?shipmentstatusid=7"}},[t._v("退貨中")])],1)])]):t._e()]),a("div",{staticClass:"orders_table"},[a("table",{staticClass:"table"},[a("thead",[a("tr",{staticStyle:{"background-color":"#0085a5",color:"white"}},[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("訂單日期")]),a("th",{attrs:{scope:"col"}},[t._v("訂單狀態")]),a("th",{staticClass:"payment-status",attrs:{scope:"col"}},[t._v("付款狀態")]),a("th",{staticClass:"shipment-status",attrs:{scope:"col"}},[t._v("送貨狀態")]),a("th",{staticClass:"orderer",attrs:{scope:"col"}},[t._v("訂購人")]),a("th",{attrs:{scope:"col"}},[t._v("合計")])])]),a("tbody",t._l(t.orders,(function(t){return a("AdminOrderList",{key:t.id,attrs:{"initial-order":t}})})),1)])])])])])])])]],2)},r=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("96cf"),a("3b8d")),i=a("bd86"),o=a("7d03"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",[a("router-link",{staticClass:"orderId",attrs:{to:{name:"AdminOrder",params:{id:t.order.id}}}},[t._v(t._s(t.order.id))])],1),a("td",[t._v(t._s(t.order.orderDate))]),a("td",[t.order.orderStatus===t.onSchedule?a("h5",[a("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.order.orderStatus))])]):t.order.orderStatus===t.processing?a("h5",[a("span",{staticClass:"badge badge-warning"},[t._v(t._s(t.order.orderStatus))])]):t.order.orderStatus===t.completed?a("h5",[a("span",{staticClass:"badge badge-success"},[t._v(t._s(t.order.orderStatus))])]):a("h5",[a("span",{staticClass:"badge badge-danger"},[t._v("已取消")])])]),a("td",{staticClass:"payment-status"},[1===t.order.paymentStatusId?a("h5",[a("span",{staticClass:"badge badge-secondary"},[t._v("未付款")])]):t._e(),2===t.order.paymentStatusId?a("h5",[a("span",{staticClass:"badge badge-success"},[t._v("已付款")])]):t._e(),3===t.order.paymentStatusId?a("h5",[a("span",{staticClass:"badge badge-warning"},[t._v("退款中")])]):t._e(),4===t.order.paymentStatusId?a("h5",[a("span",{staticClass:"badge badge-secondary"},[t._v("已退款")])]):t._e()]),a("td",{staticClass:"shipment-status"},[t.order.shipmentStatus===t.InStock?a("h5",[a("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.order.shipmentStatus))])]):t._e(),t.order.shipmentStatus===t.shipping?a("h5",[a("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.order.shipmentStatus))])]):t._e(),t.order.shipmentStatus===t.shipped?a("h5",[a("span",{staticClass:"badge badge-primary"},[t._v(t._s(t.order.shipmentStatus))])]):t._e(),t.order.shipmentStatus===t.arrived?a("h5",[a("span",{staticClass:"badge badge-success"},[t._v(t._s(t.order.shipmentStatus))])]):t._e(),t.order.shipmentStatus===t.pickedUp?a("h5",[a("span",{staticClass:"badge badge-success"},[t._v(t._s(t.order.shipmentStatus))])]):t._e(),t.order.shipmentStatus===t.returned?a("h5",[a("span",{staticClass:"badge badge-warning"},[t._v(t._s(t.order.shipmentStatus))])]):t._e(),t.order.shipmentStatus===t.returning?a("h5",[a("span",{staticClass:"badge badge-warning"},[t._v(t._s(t.order.shipmentStatus))])]):t._e()]),a("td",{staticClass:"orderer"},[t._v("\n    "+t._s(t.order.User.name)+"\n    "),a("span",{staticClass:"orderer-email"},[t._v("("+t._s(t.order.User.email)+")")])]),a("td",[t._v("NT$"+t._s(t.order.amount))])])},c=[],u={props:{initialOrder:{type:Object,required:!0}},data:function(){return{order:this.initialOrder,onSchedule:"排程中",processing:"處理中",completed:"已完成",InStock:"備貨中",shipping:"發貨中",shipped:"已發貨",arrived:"已到達",pickedUp:"已取貨",returned:"已退貨",returning:"退貨中"}}},l=u,p=(a("e80d"),a("2877")),m=Object(p["a"])(l,d,c,!1,null,"27585a58",null),v=m.exports,h=a("be6c"),g=a("2375"),b=a("2fa3"),_=a("2f62");function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function C(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(a,!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var y={components:{AdminNavbar:o["a"],AdminOrderList:v,Spinner:g["a"]},data:function(){return{isOrderer:!1,isOrderstatus:!1,isPaymentstatus:!1,isShipmentstatus:!1,isLoading:!0,orders:[],currentPage:1,totalPage:-1,currentOrderStatusId:"",currentPaymentStatusId:"",currentShipmentStatusId:"",orderer:""}},computed:C({},Object(_["b"])(["currentUser","isAuthenticated"])),beforeRouteUpdate:function(t,e,a){var s=t.query,r=s.page,n=s.orderstatusid,i=s.paymentstatusid,o=s.shipmentstatusid,d=s.orderer;this.fetchAdminOrders({page:r,orderstatusid:n,paymentstatusid:i,shipmentstatusid:o,orderer:d}),a()},created:function(){var t=this.$route.query,e=t.page,a=t.orderstatusid,s=t.paymentstatusid,r=t.shipmentstatusid,n=t.orderer;this.fetchAdminOrders({page:e,orderstatusid:a,paymentstatusid:s,shipmentstatusid:r,orderer:n})},methods:{allOrders:function(){this.isOrderer=!1,this.isOrderstatus=!1,this.isPaymentstatus=!1,this.isShipmentstatus=!1,this.$router.push("/admin/productmodel/order_mange")},searchOrderer:function(){this.isOrderer=!0,this.isOrderstatus=!1,this.isPaymentstatus=!1,this.isShipmentstatus=!1},orderstatus:function(){this.isOrderer=!1,this.isOrderstatus=!0,this.isPaymentstatus=!1,this.isShipmentstatus=!1},paymentstatus:function(){this.isOrderer=!1,this.isOrderstatus=!1,this.isPaymentstatus=!0,this.isShipmentstatus=!1},shipmentstatus:function(){this.isOrderer=!1,this.isOrderstatus=!1,this.isPaymentstatus=!1,this.isShipmentstatus=!0},handleSearch:function(t){this.$router.push({name:"AdminOrders",query:{orderer:t}}),this.orderer=""},fetchAdminOrders:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,s,r,n,i,o,d,c,u,l,p,m,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.page,s=void 0===a?1:a,r=e.orderstatusid,n=void 0===r?"":r,i=e.paymentstatusid,o=void 0===i?"":i,d=e.shipmentstatusid,c=void 0===d?"":d,u=e.orderer,l=void 0===u?"":u,t.prev=1,t.next=4,h["a"].getOrderManagePage({page:s,orderstatusid:n,paymentstatusid:o,shipmentstatusid:c,orderer:l});case 4:if(p=t.sent,m=p.data,v=p.statusText,"OK"===v){t.next=9;break}throw new Error(v);case 9:this.orders=m.orders,this.currentPage=m.page,this.totalPage=m.totalPage.length,this.currentOrderStatusId=this.$route.query.orderstatusid,this.currentPaymentStatusId=this.$route.query.paymentstatusid,this.currentShipmentStatusId=this.$route.query.shipmentstatusid,this.orderer=this.$route.query.orderer,this.isLoading=!1,t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](1),this.isLoading=!1,b["a"].fire({type:"error",title:"無法取得訂單資料，請稍後再試"});case 23:case"end":return t.stop()}}),t,this,[[1,19]])})));function e(e){return t.apply(this,arguments)}return e}()}},k=y,S=(a("1898"),Object(p["a"])(k,s,r,!1,null,"3c102672",null));e["default"]=S.exports}}]);
//# sourceMappingURL=chunk-af6df6e6.936ae61d.js.map