{"version":3,"sources":["webpack:///./src/components/CartAmount.vue?f225","webpack:///./src/components/CartItems.vue?94b2","webpack:///./src/components/CartAmount.vue?cd20","webpack:///src/components/CartAmount.vue","webpack:///./src/components/CartAmount.vue?83d0","webpack:///./src/components/CartAmount.vue?c5a6","webpack:///./src/components/UseCoupon.vue?bd3a","webpack:///./src/apis/coupons.js","webpack:///./src/views/Cart.vue?4762","webpack:///./src/components/CartItems.vue?7854","webpack:///src/components/CartItems.vue","webpack:///./src/components/CartItems.vue?56f4","webpack:///./src/components/CartItems.vue?93b7","webpack:///./src/components/UseCoupon.vue?a735","webpack:///src/components/UseCoupon.vue","webpack:///./src/components/UseCoupon.vue?1e64","webpack:///./src/components/UseCoupon.vue?4b62","webpack:///src/views/Cart.vue","webpack:///./src/views/Cart.vue?ed00","webpack:///./src/views/Cart.vue?ec69","webpack:///./src/apis/cart.js","webpack:///./src/views/Cart.vue?8943"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","totalPrice","shippingFee","coupon","discount","staticStyle","subtotal","staticRenderFns","props","type","Object","Number","default","component","checkCoupon","couponCode","apiHelper","post","getCouponOrderEdit","couponId","get","items","length","attrs","_e","isAuthenticated","name","params","id","on","$event","preventDefault","stopPropagation","handlePrompt","_m","_l","item","key","image","price","subCartItemFrom","Cart_item","quantity","overCount","addCartItemFrom","count","deleteCartItemFrom","inject","Array","required","data","methods","handleSubmit","directives","rawName","value","expression","domProps","target","composing","coouponCode","isProcessing","computed","components","CartItems","UseCoupon","CartAmount","Spinner","cart","isLoading","beforeRouteUpdate","fetchCart","next","created","title","postCart","productId","getCart","searchParams","URLSearchParams","toString","addCartItem","cartItemId","subCartItem","deleteCartItem","delete"],"mappings":"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","file":"js/chunk-c804795e.8f0840f5.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartAmount.vue?vue&type=style&index=0&id=d805a62a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartAmount.vue?vue&type=style&index=0&id=d805a62a&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartItems.vue?vue&type=style&index=0&id=0e594e49&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartItems.vue?vue&type=style&index=0&id=0e594e49&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg-light text-dark\"},[_c('div',{staticClass:\"row col-lg-8\"},[_c('div',{staticClass:\"col\"},[_vm._v(\"商品金額總計:\")]),_c('div',{staticClass:\"amount\"},[_vm._v(_vm._s(_vm.totalPrice)+\" 元\")])]),_c('div',{staticClass:\"row col-lg-8\"},[_c('div',{staticClass:\"col\"},[_vm._v(\"運費:\")]),_c('div',{staticClass:\"amount\"},[_vm._v(_vm._s(_vm.shippingFee)+\" 元\")])]),_c('div',{staticClass:\"row col-lg-8\"},[_c('div',{staticClass:\"col\"},[_vm._v(\"折價券折抵:\")]),(_vm.coupon)?_c('div',{staticClass:\"amount\"},[_vm._v(\"- \"+_vm._s(_vm.coupon.discount)+\" 元\")]):_c('div',{staticClass:\"amount\",staticStyle:{\"float\":\"right\"}},[_vm._v(\"0 元\")])]),_c('div',{staticClass:\"row col-lg-8\"},[_c('div',{staticClass:\"col\"},[_vm._v(\"金額總計:\")]),(_vm.coupon)?_c('div',{staticClass:\"amount\"},[_vm._v(_vm._s(_vm.subtotal - _vm.coupon.discount)+\" 元\")]):_c('div',{staticClass:\"amount\",staticStyle:{\"float\":\"right\"}},[_vm._v(_vm._s(_vm.subtotal)+\" 元\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"bg-light text-dark\">\r\n    <div class=\"row col-lg-8\">\r\n      <div class=\"col\">商品金額總計:</div>\r\n      <div class=\"amount\">{{totalPrice}} 元</div>\r\n    </div>\r\n    <div class=\"row col-lg-8\">\r\n      <div class=\"col\">運費:</div>\r\n      <div class=\"amount\">{{shippingFee}} 元</div>\r\n    </div>\r\n    <div class=\"row col-lg-8\">\r\n      <div class=\"col\">折價券折抵:</div>\r\n      <div v-if=\"coupon\" class=\"amount\">- {{coupon.discount}} 元</div>\r\n      <div v-else class=\"amount\" style=\"float: right;\">0 元</div>\r\n    </div>\r\n    <div class=\"row col-lg-8\">\r\n      <div class=\"col\">金額總計:</div>\r\n      <div v-if=\"coupon\" class=\"amount\">{{subtotal - coupon.discount}} 元</div>\r\n      <div v-else class=\"amount\" style=\"float: right;\">{{subtotal}} 元</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    coupon: {\r\n      type: Object\r\n    },\r\n    totalPrice: {\r\n      type: Number,\r\n      default: -1\r\n    },\r\n    shippingFee: {\r\n      type: Number,\r\n      default: -1\r\n    },\r\n    subtotal: {\r\n      type: Number,\r\n      default: -1\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.amount {\r\n  float: right;\r\n}\r\n\r\n.bg-light {\r\n  font-size: 16px;\r\n}\r\n\r\n.row {\r\n  padding: 0;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartAmount.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartAmount.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartAmount.vue?vue&type=template&id=d805a62a&scoped=true&\"\nimport script from \"./CartAmount.vue?vue&type=script&lang=js&\"\nexport * from \"./CartAmount.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CartAmount.vue?vue&type=style&index=0&id=d805a62a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d805a62a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UseCoupon.vue?vue&type=style&index=0&id=220d8efb&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UseCoupon.vue?vue&type=style&index=0&id=220d8efb&lang=scss&scoped=true&\"","import { apiHelper } from './../utils/helpers'\r\n\r\nexport default {\r\n  checkCoupon({ couponCode }) {\r\n    return apiHelper.post(`/checkCoupon`, { couponCode })\r\n  },\r\n  getCouponOrderEdit({ couponId }) {\r\n    return apiHelper.get(`/couponOrder/${couponId}`, { couponId })\r\n  }\r\n}\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container mb-5\"},[(_vm.isLoading)?_c('Spinner'):[_c('div',{staticClass:\"cart-box row\"},[_c('div',{staticClass:\"row step col-12\"},[_c('div',{staticClass:\"col-3 text-center step-point-line step-point\"},[_c('span',{staticClass:\"step-by-step bg-dark rounded-pill text-light d-inline-block\"},[_vm._v(\"Step 1\")]),_c('p',{staticClass:\"step-text text-dark\"},[_vm._v(\"確認購物車\")])]),_c('div',{staticClass:\"arrow col-1\"},[_c('i',{staticClass:\"fas fa-long-arrow-alt-right\"})]),_c('div',{staticClass:\"col-3 text-center\"},[_c('span',{staticClass:\"step-by-step border bg-secondary rounded-pill text-dark d-inline-block\"},[_vm._v(\"Step 2\")]),_c('p',{staticClass:\"step-text text-dark\"},[_vm._v(\"付款與運送方式\")])]),_c('div',{staticClass:\"arrow col-1\",staticStyle:{\"color\":\"gray\"}},[_c('i',{staticClass:\"fas fa-long-arrow-alt-right\"})]),_c('div',{staticClass:\"col-3 text-center\"},[_c('span',{staticClass:\"step-by-step border bg-secondary rounded-pill text-dark d-inline-block\"},[_vm._v(\"Step 3\")]),_c('p',{staticClass:\"step-text text-dark\"},[_vm._v(\"成立訂單\")])])])]),_c('div',{staticClass:\"cartNav row text-white col-12 mt-3\"},[_c('h3',[_vm._v(\" 購物車明細\")])]),(this.items.length > 0)?_c('CartItems',{attrs:{\"items\":_vm.items}}):[_c('div',{staticClass:\"alert mt-3 col-12\",attrs:{\"role\":\"alert\"}},[_vm._v(\"您的購物車是空的!!\")]),_c('router-link',{staticClass:\"btn btn-success shopping-btn mt-1 col-12\",attrs:{\"to\":\"/\"}},[_vm._v(\"繼續購物\")])],(this.items.length > 0)?_c('UseCoupon',{attrs:{\"total-price\":_vm.totalPrice}}):_vm._e(),(this.items.length > 0)?_c('hr'):_vm._e(),(this.items.length > 0)?_c('CartAmount',{attrs:{\"coupon\":_vm.coupon,\"total-price\":_vm.totalPrice,\"shipping-fee\":_vm.shippingFee,\"subtotal\":_vm.subtotal}}):_vm._e(),(this.items.length > 0)?_c('div',{staticClass:\"row mb-5\"},[(!_vm.isAuthenticated)?[_c('p',{staticClass:\"col\"},[_vm._v(\" \")]),_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handlePrompt($event)}}},[_c('router-link',{staticClass:\"btn btn-success mt-4\",attrs:{\"to\":\"/users/logIn?redirect=cart\"}},[_vm._v(\"前往選擇付款及運送方式\")])],1)]:[_c('p',{staticClass:\"col\"},[_vm._v(\" \")]),(_vm.coupon)?_c('router-link',{staticClass:\"btn btn-success mt-4\",attrs:{\"to\":{name: 'CouponOrder', params: { id: _vm.coupon.id }}}},[_vm._v(\"前往選擇付款及運送方式\")]):_c('router-link',{staticClass:\"btn btn-success mt-4\",attrs:{\"to\":\"/orderEdit\"}},[_vm._v(\"前往選擇付款及運送方式\")])]],2):_vm._e()]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',{staticClass:\"table col-12\"},[_vm._m(0),_c('tbody',_vm._l((_vm.items),function(item){return _c('tr',{key:item.id},[_c('td',[_c('div',{staticStyle:{\"display\":\"flow-root\"}},[_c('img',{staticClass:\"card-img\",attrs:{\"src\":item.image,\"alt\":item.name}}),_c('span',{staticClass:\"item-name\"},[_vm._v(_vm._s(item.name))])])]),_c('td',[_c('p',{staticClass:\"price mt-2\"},[_c('span',{staticClass:\"money-symbol\"},[_vm._v(\"$\")]),_vm._v(\"\\n          \"+_vm._s(item.price)+\"\\n        \")])]),_c('td',[_c('div',{staticClass:\"qyt-select\",staticStyle:{\"display\":\"flex\"}},[_c('button',{staticClass:\"btn btn-sm btn-outline-secondary mt-1\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.subCartItemFrom(item.Cart_item.id)}}},[_c('i',{staticClass:\"fas fa-minus\"})]),_c('span',{staticClass:\"quantity mt-2\"},[_vm._v(_vm._s(item.Cart_item.quantity))]),_c('button',{staticClass:\"btn btn-sm btn-outline-secondary mt-1\",attrs:{\"type\":\"button\",\"disabled\":_vm.overCount},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addCartItemFrom(item.Cart_item.id, item.count, item.Cart_item.quantity)}}},[_c('i',{staticClass:\"fas fa-plus\"})])])]),_c('td',[_c('p',{staticClass:\"Subtotal\"},[_c('span',{staticClass:\"money-symbol\"},[_vm._v(\"$\")]),_vm._v(\"\\n          \"+_vm._s(item.price*item.Cart_item.quantity)+\"\\n        \")])]),_c('td',[_c('button',{staticClass:\"btn btn-link\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteCartItemFrom(item.Cart_item.id, item.Cart_item.quantity)}}},[_c('i',{staticClass:\"fas fa-trash\",staticStyle:{\"color\":\"#0085a5\"}})])])])}),0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"商品\")]),_c('th',[_vm._v(\"價格\")]),_c('th',{staticClass:\"qty-th\"},[_vm._v(\"數量\")]),_c('th',[_vm._v(\"小計\")]),_c('th',[_vm._v(\"刪除\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <table class=\"table col-12\">\r\n    <thead>\r\n      <tr>\r\n        <th>商品</th>\r\n        <th>價格</th>\r\n        <th class=\"qty-th\">數量</th>\r\n        <th>小計</th>\r\n        <th>刪除</th>\r\n      </tr>\r\n    </thead>\r\n\r\n    <tbody>\r\n      <tr v-for=\"item in items\" :key=\"item.id\">\r\n        <!-- 商品 -->\r\n        <td>\r\n          <div style=\"display: flow-root;\">\r\n            <img :src=\"item.image\" class=\"card-img\" :alt=\"item.name\" />\r\n            <span class=\"item-name\">{{item.name}}</span>\r\n          </div>\r\n        </td>\r\n        <!-- 價格 -->\r\n        <td>\r\n          <p class=\"price mt-2\">\r\n            <span class=\"money-symbol\">$</span>\r\n            {{item.price}}\r\n          </p>\r\n        </td>\r\n        <!-- 數量 -->\r\n        <td>\r\n          <div class=\"qyt-select\" style=\"display: flex;\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-sm btn-outline-secondary mt-1\"\r\n              @click.stop.prevent=\"subCartItemFrom(item.Cart_item.id)\"\r\n            >\r\n              <i class=\"fas fa-minus\"></i>\r\n            </button>\r\n\r\n            <span class=\"quantity mt-2\">{{item.Cart_item.quantity}}</span>\r\n\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-sm btn-outline-secondary mt-1\"\r\n              :disabled=\"overCount\"\r\n              @click.stop.prevent=\"addCartItemFrom(item.Cart_item.id, item.count, item.Cart_item.quantity)\"\r\n            >\r\n              <i class=\"fas fa-plus\"></i>\r\n            </button>\r\n          </div>\r\n        </td>\r\n        <!-- 小計 -->\r\n        <td>\r\n          <p class=\"Subtotal\">\r\n            <span class=\"money-symbol\">$</span>\r\n            {{item.price*item.Cart_item.quantity}}\r\n          </p>\r\n        </td>\r\n        <!-- 刪除 -->\r\n        <td>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-link\"\r\n            @click.stop.prevent=\"deleteCartItemFrom(item.Cart_item.id, item.Cart_item.quantity)\"\r\n          >\r\n            <i class=\"fas fa-trash\" style=\"color: #0085a5;\"></i>\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\nimport cartAPI from \"./../apis/cart\";\r\nimport { Toast } from \"./../utils/helpers\";\r\n\r\nexport default {\r\n  inject: [\"reload\"],\r\n  props: {\r\n    items: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      overCount: false\r\n    };\r\n  },\r\n  methods: {\r\n    async subCartItemFrom(cartItemId) {\r\n      try {\r\n        const { data, statusText } = await cartAPI.subCartItem({ cartItemId });\r\n\r\n        if (statusText !== \"OK\" || data.status !== \"success\") {\r\n          throw new Error(statusText);\r\n        }\r\n\r\n        let cartItemNumberInLocalStorage = Number(\r\n          localStorage.getItem(\"cartItemNumber\")\r\n        );\r\n\r\n        if (cartItemNumberInLocalStorage > 0) {\r\n          cartItemNumberInLocalStorage -= 1;\r\n          localStorage.setItem(\"cartItemNumber\", cartItemNumberInLocalStorage);\r\n        }\r\n\r\n        this.$store.commit(\"setCartItemNumber\");\r\n\r\n        this.reload();\r\n      } catch (error) {\r\n        Toast.fire({\r\n          type: \"error\",\r\n          title: \"無法刪減商品數量，請稍後再試\"\r\n        });\r\n      }\r\n    },\r\n    async addCartItemFrom(cartItemId, count, quantity) {\r\n      try {\r\n        if (quantity === count) {\r\n          this.overCount = true;\r\n          Toast.fire({\r\n            type: \"warning\",\r\n            title: \"此商品已無額外庫存\"\r\n          });\r\n          return;\r\n        }\r\n\r\n        const { data, statusText } = await cartAPI.addCartItem({ cartItemId });\r\n\r\n        if (statusText !== \"OK\" || data.status !== \"success\") {\r\n          throw new Error(statusText);\r\n        }\r\n\r\n        let cartItemNumberInLocalStorage = Number(\r\n          localStorage.getItem(\"cartItemNumber\")\r\n        );\r\n\r\n        cartItemNumberInLocalStorage++;\r\n        localStorage.setItem(\"cartItemNumber\", cartItemNumberInLocalStorage);\r\n\r\n        this.$store.commit(\"setCartItemNumber\");\r\n\r\n        this.reload();\r\n      } catch (error) {\r\n        Toast.fire({\r\n          type: \"error\",\r\n          title: \"無法增加商品數量，請稍後再試\"\r\n        });\r\n      }\r\n    },\r\n    async deleteCartItemFrom(cartItemId, quantity) {\r\n      try {\r\n        const { data, statusText } = await cartAPI.deleteCartItem({\r\n          cartItemId\r\n        });\r\n\r\n        if (statusText !== \"OK\" || data.status !== \"success\") {\r\n          throw new Error(statusText);\r\n        }\r\n\r\n        let cartItemNumberInLocalStorage = Number(\r\n          localStorage.getItem(\"cartItemNumber\")\r\n        );\r\n\r\n        if (cartItemNumberInLocalStorage > 0) {\r\n          cartItemNumberInLocalStorage -= quantity;\r\n          localStorage.setItem(\"cartItemNumber\", cartItemNumberInLocalStorage);\r\n        }\r\n\r\n        this.$store.commit(\"setCartItemNumber\");\r\n\r\n        Toast.fire({\r\n          type: \"success\",\r\n          title: \"已成功移除商品\"\r\n        });\r\n\r\n        this.reload();\r\n      } catch (error) {\r\n        Toast.fire({\r\n          type: \"error\",\r\n          title: \"無法移除商品，請稍後再試\"\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@mixin respond-and($upper) {\r\n  @media screen and (max-width: $upper) {\r\n    @content;\r\n  }\r\n}\r\n\r\n.card-img {\r\n  width: 60px;\r\n  height: 60px;\r\n}\r\n\r\n.item-name {\r\n  margin-left: 10px;\r\n  @include respond-and(768px) {\r\n    display: none;\r\n  }\r\n}\r\n\r\n.quantity {\r\n  margin: 0 20px;\r\n  @include respond-and(768px) {\r\n    margin: 0 10px;\r\n  }\r\n}\r\n\r\nth,\r\nspan,\r\n.btn {\r\n  font-size: 16px;\r\n}\r\n\r\n.qty-th {\r\n  @include respond-and(768px) {\r\n    text-align: center;\r\n  }\r\n}\r\n\r\n.fa-minus,\r\n.fa-plus {\r\n  font-size: 10px;\r\n}\r\n\r\n.btn-outline-secondary {\r\n  border: none;\r\n}\r\n\r\n.money-symbol {\r\n  @include respond-and(992px) {\r\n    display: none;\r\n  }\r\n}\r\n\r\n.Subtotal {\r\n  margin-top: 10px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartItems.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartItems.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartItems.vue?vue&type=template&id=0e594e49&scoped=true&\"\nimport script from \"./CartItems.vue?vue&type=script&lang=js&\"\nexport * from \"./CartItems.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CartItems.vue?vue&type=style&index=0&id=0e594e49&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e594e49\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"coupon\"},[_c('hr'),_c('form',{on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"couponCode\"}},[_vm._v(\"如果要使用折扣碼，請在此填入\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coouponCode),expression:\"coouponCode\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"coouponCode\",\"name\":\"couponCode\",\"placeholder\":\"您的折價券序號\"},domProps:{\"value\":(_vm.coouponCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.coouponCode=$event.target.value}}}),_c('div',{staticClass:\"row\"},[_c('p',{staticClass:\"col\"},[_vm._v(\" \")]),(!_vm.isAuthenticated)?_c('router-link',{staticClass:\"btn btn-success mt-3 mr-2 mb-1\",attrs:{\"to\":\"/users/logIn?redirect=cart\"}},[_vm._v(\"使用折價券\")]):_c('button',{staticClass:\"btn btn-success mt-3 mr-2 mb-1\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isProcessing}},[_vm._v(\"使用折價券\")])],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"coupon\">\r\n    <hr />\r\n\r\n    <form @submit.stop.prevent=\"handleSubmit\">\r\n      <div class=\"form-group\">\r\n        <label for=\"couponCode\">如果要使用折扣碼，請在此填入</label>\r\n        <input\r\n          v-model=\"coouponCode\"\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          id=\"coouponCode\"\r\n          name=\"couponCode\"\r\n          placeholder=\"您的折價券序號\"\r\n        />\r\n        <div class=\"row\">\r\n          <p class=\"col\">&nbsp;</p>\r\n\r\n          <!-- 未登入 -->\r\n          <router-link\r\n            v-if=\"!isAuthenticated\"\r\n            class=\"btn btn-success mt-3 mr-2 mb-1\"\r\n            to=\"/users/logIn?redirect=cart\"\r\n          >使用折價券</router-link>\r\n\r\n          <!-- 已登入 -->\r\n          <button\r\n            v-else\r\n            type=\"submit\"\r\n            class=\"btn btn-success mt-3 mr-2 mb-1\"\r\n            :disabled=\"isProcessing\"\r\n          >使用折價券</button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport couponAPI from \"./../apis/coupons\";\r\nimport { Toast } from \"./../utils/helpers\";\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  props: {\r\n    totalPrice: {\r\n      type: Number,\r\n      default: -1\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState([\"currentUser\", \"isAuthenticated\"])\r\n  },\r\n  data() {\r\n    return {\r\n      coouponCode: \"\",\r\n      isProcessing: false\r\n    };\r\n  },\r\n  methods: {\r\n    async handleSubmit() {\r\n      try {\r\n        this.isProcessing = true;\r\n\r\n        // 未輸入折價券序號\r\n        if (!this.coouponCode) {\r\n          Toast.fire({\r\n            type: \"warning\",\r\n            title: \"請輸入折價券序號\"\r\n          });\r\n          this.isProcessing = false;\r\n          return;\r\n        }\r\n\r\n        const { data, statusText } = await couponAPI.checkCoupon({\r\n          couponCode: this.coouponCode\r\n        });\r\n\r\n        const couponId = data.couponId;\r\n        const available = data.available;\r\n        const discount = data.discount;\r\n\r\n        // 折價券過期\r\n        if (available === false) {\r\n          Toast.fire({\r\n            type: \"warning\",\r\n            title: \"此序號已過期\"\r\n          });\r\n          this.isProcessing = false;\r\n          return;\r\n        }\r\n\r\n        // 折扣金額超過購買金額\r\n        if (discount > this.totalPrice) {\r\n          Toast.fire({\r\n            type: \"warning\",\r\n            title: \"無法折抵超過您所消費的金額\"\r\n          });\r\n          this.isProcessing = false;\r\n          return;\r\n        }\r\n\r\n        // 折價券序號不存在\r\n        if (!couponId) {\r\n          Toast.fire({\r\n            type: \"warning\",\r\n            title: \"此序號不存在\"\r\n          });\r\n          this.isProcessing = false;\r\n          return;\r\n        }\r\n\r\n        if (statusText !== \"OK\" || data.status !== \"success\") {\r\n          throw new Error(statusText);\r\n        }\r\n\r\n        Toast.fire({\r\n          type: \"success\",\r\n          title: \"已成功使用折價券\"\r\n        });\r\n\r\n        this.$router.push({ path: \"/cart\", query: { couponId } });\r\n\r\n        this.isProcessing = false;\r\n      } catch (error) {\r\n        this.isProcessing = false;\r\n\r\n        Toast.fire({\r\n          type: \"error\",\r\n          title: \"無法使用折價券，請稍後再試\"\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@mixin respond-and($upper, $font-size) {\r\n  @media screen and (max-width: $upper) {\r\n    font-size: $font-size;\r\n  }\r\n}\r\n\r\n.btn-success {\r\n  float: right;\r\n}\r\n\r\nlabel {\r\n  padding: 0 0 0 15px;\r\n}\r\n\r\nlabel,\r\ninput,\r\n.btn {\r\n  font-size: 16px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UseCoupon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UseCoupon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UseCoupon.vue?vue&type=template&id=220d8efb&scoped=true&\"\nimport script from \"./UseCoupon.vue?vue&type=script&lang=js&\"\nexport * from \"./UseCoupon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UseCoupon.vue?vue&type=style&index=0&id=220d8efb&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"220d8efb\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container mb-5\">\r\n    <Spinner v-if=\"isLoading\" />\r\n    <template v-else>\r\n      <!-- 購物車流程 Navbar -->\r\n      <div class=\"cart-box row\">\r\n        <div class=\"row step col-12\">\r\n          <div class=\"col-3 text-center step-point-line step-point\">\r\n            <span class=\"step-by-step bg-dark rounded-pill text-light d-inline-block\">Step 1</span>\r\n            <p class=\"step-text text-dark\">確認購物車</p>\r\n          </div>\r\n\r\n          <div class=\"arrow col-1\">\r\n            <i class=\"fas fa-long-arrow-alt-right\"></i>\r\n          </div>\r\n\r\n          <div class=\"col-3 text-center\">\r\n            <span\r\n              class=\"step-by-step border bg-secondary rounded-pill text-dark d-inline-block\"\r\n            >Step 2</span>\r\n            <p class=\"step-text text-dark\">付款與運送方式</p>\r\n          </div>\r\n\r\n          <div class=\"arrow col-1\" style=\"color: gray\">\r\n            <i class=\"fas fa-long-arrow-alt-right\"></i>\r\n          </div>\r\n\r\n          <div class=\"col-3 text-center\">\r\n            <span\r\n              class=\"step-by-step border bg-secondary rounded-pill text-dark d-inline-block\"\r\n            >Step 3</span>\r\n            <p class=\"step-text text-dark\">成立訂單</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 購物車明細 -->\r\n      <div class=\"cartNav row text-white col-12 mt-3\">\r\n        <h3>&nbsp;購物車明細</h3>\r\n      </div>\r\n\r\n      <CartItems v-if=\"this.items.length > 0\" :items=\"items\" />\r\n\r\n      <template v-else>\r\n        <div class=\"alert mt-3 col-12\" role=\"alert\">您的購物車是空的!!</div>\r\n        <router-link to=\"/\" class=\"btn btn-success shopping-btn mt-1 col-12\">繼續購物</router-link>\r\n      </template>\r\n\r\n      <!-- 折價券使用 -->\r\n      <UseCoupon v-if=\"this.items.length > 0\" :total-price=\"totalPrice\" />\r\n\r\n      <hr v-if=\"this.items.length > 0\" />\r\n\r\n      <!-- 購物車總金額 -->\r\n      <CartAmount\r\n        v-if=\"this.items.length > 0\"\r\n        :coupon=\"coupon\"\r\n        :total-price=\"totalPrice\"\r\n        :shipping-fee=\"shippingFee\"\r\n        :subtotal=\"subtotal\"\r\n      />\r\n\r\n      <div class=\"row mb-5\" v-if=\"this.items.length > 0\">\r\n        <!-- 未登入 -->\r\n        <template v-if=\"!isAuthenticated\">\r\n          <p class=\"col\">&nbsp;</p>\r\n\r\n          <div @click.prevent.stop=\"handlePrompt\">\r\n            <router-link to=\"/users/logIn?redirect=cart\" class=\"btn btn-success mt-4\">前往選擇付款及運送方式</router-link>\r\n          </div>\r\n        </template>\r\n\r\n        <!-- 已登入 -->\r\n        <template v-else>\r\n          <p class=\"col\">&nbsp;</p>\r\n\r\n          <!-- 使用折價券 -->\r\n          <router-link\r\n            v-if=\"coupon\"\r\n            class=\"btn btn-success mt-4\"\r\n            :to=\"{name: 'CouponOrder', params: { id: coupon.id }}\"\r\n          >前往選擇付款及運送方式</router-link>\r\n\r\n          <!-- 未使用折價券 -->\r\n          <router-link v-else to=\"/orderEdit\" class=\"btn btn-success mt-4\">前往選擇付款及運送方式</router-link>\r\n        </template>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CartItems from \"./../components/CartItems\";\r\nimport UseCoupon from \"./../components/UseCoupon\";\r\nimport CartAmount from \"./../components/CartAmount\";\r\nimport cartAPI from \"./../apis/cart\";\r\nimport Spinner from \"./../components/Spinner\";\r\nimport { Toast } from \"./../utils/helpers\";\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  components: {\r\n    CartItems,\r\n    UseCoupon,\r\n    CartAmount,\r\n    Spinner\r\n  },\r\n  data() {\r\n    return {\r\n      cart: {\r\n        id: -1\r\n      },\r\n      totalPrice: -1,\r\n      shippingFee: -1,\r\n      subtotal: -1,\r\n      items: [],\r\n      coupon: {},\r\n      isLoading: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"currentUser\", \"isAuthenticated\"])\r\n  },\r\n  // 使用 beforeRouteUpdate 方法取得使用者路由變化\r\n  beforeRouteUpdate(to, from, next) {\r\n    const { couponId } = to.query;\r\n    this.fetchCart({ couponId });\r\n    next();\r\n  },\r\n  created() {\r\n    const { couponId } = this.$route.query;\r\n    this.fetchCart({ couponId });\r\n  },\r\n  methods: {\r\n    async fetchCart({ couponId }) {\r\n      try {\r\n        this.isLoading = true;\r\n\r\n        const { data, statusText } = await cartAPI.getCart({ couponId });\r\n\r\n        if (statusText !== \"OK\") {\r\n          throw new Error(statusText);\r\n        }\r\n\r\n        this.cart = data.cart;\r\n        this.items = data.cart.items;\r\n        this.totalPrice = data.totalPrice;\r\n        this.shippingFee = data.shippingFee;\r\n        this.subtotal = data.subtotal;\r\n        this.coupon = data.coupon;\r\n\r\n        this.isLoading = false;\r\n      } catch (error) {\r\n        this.isLoading = false;\r\n        Toast.fire({\r\n          type: \"error\",\r\n          title: \"無法取得購物車資料，請稍後再試\"\r\n        });\r\n      }\r\n    },\r\n    handlePrompt() {\r\n      Toast.fire({\r\n        type: \"warning\",\r\n        title: \"請先登入會員，即可繼續後續購物流程\"\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@mixin respond-and($upper) {\r\n  @media screen and (max-width: $upper) {\r\n    @content;\r\n  }\r\n}\r\n\r\n.cart-box {\r\n  padding: 15px 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.step-by-step {\r\n  padding: 10px 16px;\r\n  margin-bottom: 18px;\r\n  font-size: 18px;\r\n}\r\n\r\n.arrow {\r\n  font-size: 40px;\r\n  @include respond-and(768px) {\r\n    padding: 0;\r\n    margin-left: 5px;\r\n  }\r\n}\r\n\r\n.cartNav {\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  margin-left: 0;\r\n  background-color: #0085a5;\r\n  @include respond-and(768px) {\r\n    padding: 10px;\r\n  }\r\n}\r\n\r\n.alert {\r\n  text-align: center;\r\n  font-size: 16px;\r\n  padding: 35px;\r\n  border: 10px solid white;\r\n  background-color: #e5ebec;\r\n  border-radius: 15px;\r\n  margin-bottom: 0px;\r\n}\r\n\r\n.btn-success {\r\n  margin: 20px 10px 5px 0;\r\n}\r\n\r\n.shopping-btn {\r\n  margin: 0;\r\n  border: 10px solid white;\r\n  border-radius: 15px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=38db1b7c&scoped=true&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Cart.vue?vue&type=style&index=0&id=38db1b7c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38db1b7c\",\n  null\n  \n)\n\nexport default component.exports","import { apiHelper } from './../utils/helpers'\r\n\r\nexport default {\r\n  postCart({ productId, quantity }) {\r\n    return apiHelper.post(`/cart`, { productId, quantity })\r\n  },\r\n  getCart({ couponId }) {\r\n    if (couponId) {\r\n      const searchParams = new URLSearchParams({ couponId })\r\n      return apiHelper.get(`/cart?${searchParams.toString()}`)\r\n    }\r\n    return apiHelper.get(`/cart`)\r\n  },\r\n  addCartItem({ cartItemId }) {\r\n    return apiHelper.post(`/cartItem/${cartItemId}/add`, { cartItemId })\r\n  },\r\n  subCartItem({ cartItemId }) {\r\n    return apiHelper.post(`/cartItem/${cartItemId}/sub`, { cartItemId })\r\n  },\r\n  deleteCartItem({ cartItemId }) {\r\n    return apiHelper.delete(`/cartItem/${cartItemId}`, { cartItemId })\r\n  },\r\n}","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=style&index=0&id=38db1b7c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=style&index=0&id=38db1b7c&lang=scss&scoped=true&\""],"sourceRoot":""}