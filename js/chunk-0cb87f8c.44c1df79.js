(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cb87f8c"],{"0275":function(t,e,r){"use strict";r("7f7f");var a=r("2fa3");e["a"]={getOrder:function(){return a["b"].get("/orderEdit")},postOrder:function(t){var e=t.amount,r=t.UserId,n=t.StoreId,s=t.name,o=t.address,i=t.phone,c=t.shipmentType,d=t.paymentType,u=t.cartId,l=t.couponId;return a["b"].post("/order",{amount:e,UserId:r,StoreId:n,name:s,address:o,phone:i,shipmentType:c,paymentType:d,cartId:u,couponId:l})},getOrderSuccess:function(t){var e=t.orderId;return a["b"].get("/order/".concat(e,"/success"),{orderId:e})},getPayment:function(t){var e=t.orderId;return a["b"].get("/order/".concat(e,"/payment"),{orderId:e})},getBranchSelection:function(t){var e=t.orderId;return a["b"].get("/order/".concat(e,"/branchselection"),{orderId:e})},cancelOrder:function(t){var e=t.orderId;return a["b"].post("/order/".concat(e),{orderId:e})}}},1175:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container mb-5"},[t.isLoading?r("Spinner"):[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header",staticStyle:{"text-align":"center","background-color":"#0085a5",color:"white"}},[r("h3",[t._v("準備為訂單編號("+t._s(t.order.id)+")付款")])]),r("div",{staticClass:"card-body"},[r("h6",{staticClass:"mt-3 ml-2"},[t._v("商品詳情：")]),r("li",{staticClass:"bg-light text-dark list-group-item mt-3 col-12"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-6"},[t._v("商品")]),r("div",{staticClass:"col-3"},[t._v("數量")]),r("div",{staticClass:"col-3"},[t._v("小計")])])]),t._l(t.items,(function(e){return r("li",{key:e.id,staticClass:"bg-white text-dark list-group-item col-12"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-6"},[t._v(t._s(e.name))]),r("div",{staticClass:"col-3 quantity"},[t._v(t._s(e.Order_item.quantity))]),r("div",{staticClass:"col-3"},[t._v(t._s(e.price))])])])})),r("div",{staticClass:"row"},[r("div",{staticClass:"payment-value-box col-md-6"},[r("h6",{staticClass:"mt-5 ml-2"},[t._v("付款金額：")]),r("div",{staticClass:"bg-light text-dark list-group-item mt-3"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[t._v("金額總計:")]),r("div",{staticClass:"amount",staticStyle:{color:"red"}},[t._v(t._s(t.order.amount)+" 元")])])])])])],2)]),r("form",{attrs:{name:"Spgateway",action:t.tradeInfo.PayGateWay,method:"POST"}},[r("input",{staticClass:"form-control mt-2",attrs:{type:"hidden",name:"MerchantID"},domProps:{value:t.tradeInfo.MerchantID}}),r("input",{staticClass:"form-control mt-2",attrs:{type:"hidden",name:"TradeInfo"},domProps:{value:t.tradeInfo.TradeInfo}}),r("input",{staticClass:"form-control mt-2",attrs:{type:"hidden",name:"TradeSha"},domProps:{value:t.tradeInfo.TradeSha}}),r("input",{staticClass:"form-control mt-2",attrs:{type:"hidden",name:"Version"},domProps:{value:t.tradeInfo.Version}}),r("button",{staticClass:"btn btn-success col-12 mt-4",attrs:{type:"submit",id:"postPayment"}},[t._v("前往付款")])])]],2)},n=[],s=(r("8e6e"),r("ac6a"),r("456d"),r("96cf"),r("3b8d")),o=r("bd86"),i=r("0275"),c=r("2375"),d=r("2fa3"),u=r("2f62");function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(r,!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f={components:{Spinner:c["a"]},data:function(){return{order:{},items:[],tradeInfo:{MerchantID:"",TradeInfo:"",TradeSha:"",Version:"",PayGateWay:""},isLoading:!1}},computed:p({},Object(u["b"])(["currentUser","isAuthenticated"])),beforeRouteUpdate:function(t,e,r){var a=t.params.id;this.fetchOrder({orderId:a}),r()},created:function(){var t=this.$route.params.id;this.fetchOrder({orderId:t})},methods:{fetchOrder:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.orderId,t.prev=1,this.isLoading=!0,t.next=5,i["a"].getPayment({orderId:r});case 5:if(a=t.sent,n=a.data,s=a.statusText,"OK"===s){t.next=10;break}throw new Error(s);case 10:this.order=n.order,this.items=n.order.items,this.tradeInfo={MerchantID:n.tradeInfo.MerchantID,TradeInfo:n.tradeInfo.TradeInfo,TradeSha:n.tradeInfo.TradeSha,Version:n.tradeInfo.Version,PayGateWay:n.tradeInfo.PayGateWay},this.isLoading=!1,t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](1),this.isLoading=!1,d["a"].fire({type:"error",title:"無法取得訂單資料，請稍後再試"});case 20:case"end":return t.stop()}}),t,this,[[1,16]])})));function e(e){return t.apply(this,arguments)}return e}()}},m=f,h=(r("45b4"),r("2877")),v=Object(h["a"])(m,a,n,!1,null,"f6a1ca96",null);e["default"]=v.exports},"45b4":function(t,e,r){"use strict";var a=r("6032"),n=r.n(a);n.a},6032:function(t,e,r){}}]);
//# sourceMappingURL=chunk-0cb87f8c.44c1df79.js.map