(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7468f7d5"],{"0275":function(t,e,s){"use strict";s("7f7f");var r=s("2fa3");e["a"]={getOrder:function(){return r["b"].get("/orderEdit")},postOrder:function(t){var e=t.amount,s=t.UserId,i=t.StoreId,a=t.name,n=t.address,o=t.phone,c=t.shipmentType,d=t.paymentType,p=t.cartId,l=t.couponId;return r["b"].post("/order",{amount:e,UserId:s,StoreId:i,name:a,address:n,phone:o,shipmentType:c,paymentType:d,cartId:p,couponId:l})},getOrderSuccess:function(t){var e=t.orderId;return r["b"].get("/order/".concat(e,"/success"),{orderId:e})},getPayment:function(t){var e=t.orderId;return r["b"].get("/order/".concat(e,"/payment"),{orderId:e})},getBranchSelection:function(t){var e=t.orderId;return r["b"].get("/order/".concat(e,"/branchselection"),{orderId:e})},cancelOrder:function(t){var e=t.orderId;return r["b"].post("/order/".concat(e),{orderId:e})}}},"2b11":function(t,e,s){"use strict";var r=s("6783"),i=s.n(r);i.a},"5ade":function(t,e,s){},6783:function(t,e,s){},b863:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container mb-5"},[t.isLoading?s("Spinner"):[s("div",{staticClass:"success-box row"},[s("div",{staticClass:"row step col-12"},[s("div",{staticClass:"col-3 text-center"},[s("span",{staticClass:"step-by-step bg-secondary rounded-pill text-dark d-inline-block"},[t._v("Step 1")]),s("p",{staticClass:"step-text text-dark"},[t._v("確認購物車")])]),s("div",{staticClass:"arrow col-1"},[s("i",{staticClass:"fas fa-long-arrow-alt-right"})]),s("div",{staticClass:"col-3 text-center"},[s("span",{staticClass:"step-by-step border bg-secondary rounded-pill text-dark d-inline-block"},[t._v("Step 2")]),s("p",{staticClass:"step-text text-dark"},[t._v("付款與運送方式")])]),s("div",{staticClass:"arrow col-1",staticStyle:{color:"gray"}},[s("i",{staticClass:"fas fa-long-arrow-alt-right"})]),s("div",{staticClass:"col-3 text-center step-point-line step-point"},[s("span",{staticClass:"step-by-step border bg-dark rounded-pill text-light d-inline-block"},[t._v("Step 3")]),s("p",{staticClass:"step-text text-dark"},[t._v("成立訂單")])])])]),s("OrderDetails",{attrs:{items:t.items,"origin-amount":t.originAmount,"shipping-fee":t.shippingFee,subtotal:t.subtotal,order:t.order,"payment-type":t.paymentType,"payment-status":t.paymentStatus,"shipment-type":t.shipmentType,"shipment-status":t.shipmentStatus,"shipment-convenience-store":t.shipmentConvenienceStore}}),s("router-link",{staticClass:"btn btn-success mt-3 col-12",attrs:{to:"/"}},[t._v("繼續購物")])]],2)},i=[],a=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),n=s("bd86"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card mt-4"},[s("div",{staticClass:"card-header",staticStyle:{"text-align":"center","background-color":"#0085a5",color:"white"}},[s("h3",[t._v("訂單資訊 - 編號("+t._s(t.order.id)+")")])]),s("div",{staticClass:"card-body",staticStyle:{"background-color":"#d2f0f5"}},[s("h6",{staticClass:"mt-5 ml-2"},[t._v("商品詳情：")]),t._m(0),t._l(t.items,(function(e){return s("li",{key:e.id,staticClass:"bg-white text-dark list-group-item col-12"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[t._v(t._s(e.name))]),s("div",{staticClass:"col-3 quantity"},[t._v(t._s(e.Order_item.quantity))]),s("div",{staticClass:"col-3"},[t._v(t._s(e.price))])])])})),s("div",{staticClass:"row"},[s("div",{staticClass:"amount-box col-md-4"},[s("h6",{staticClass:"mt-5 ml-2"},[t._v("金額詳情：")]),s("div",{staticClass:"bg-light text-dark list-group-item mt-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[t._v("商品金額總計:")]),s("div",{staticClass:"amount"},[t._v(t._s(t.originAmount)+" 元")])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[t._v("運費:")]),s("div",{staticClass:"amount"},[t._v(t._s(t.shippingFee)+" 元")])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[t._v("折價券折抵:")]),s("div",{staticClass:"amount"},[t._v(t._s(t.order.amount-t.subtotal)+" 元")])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[t._v("金額總計:")]),s("div",{staticClass:"amount",staticStyle:{color:"red"}},[t._v(t._s(t.order.amount)+" 元")])])])]),s("div",{staticClass:"customer-information col-md-8 mt-5"},[s("h6",[t._v("顧客資訊：")]),s("div",{staticClass:"bg-light text-dark list-group-item mt-3"},[s("div",[t._v("名字:  "+t._s(t.order.name))]),s("div",[t._v("地址:  "+t._s(t.order.address))]),s("div",[t._v("電話:  "+t._s(t.order.phone))])])])]),s("h6",{staticClass:"mt-5 ml-2"},[t._v("出貨狀況：")]),s("div",{staticClass:"bg-light text-dark list-group-item mt-3 col-12"},[s("div",[t._v("訂單狀態:  "+t._s(t.order.Order_status.orderStatus))]),s("div",[t._v("付款方式:  "+t._s(t.lastpaymentType.paymentType))]),s("div",[t._v("付款狀況:  "+t._s(t.lastPaymentStatus.paymentStatus))]),s("div",{staticClass:"shipmentType row"},[s("div",[t._v("出貨方式:  "+t._s(t.lastShipmentType.shipmentType))]),t._l(t.shipmentConvenienceStore,(function(e){return s("div",{key:e.id},[t._v("『"+t._s(e.branch)+" - "+t._s(e.address)+"』")])}))],2),s("div",[t._v("出貨狀況:  "+t._s(t.lastShipmentStatus.shipmentStatus))])])],2)])},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"bg-light text-dark list-group-item mt-3 col-12"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[t._v("商品")]),s("div",{staticClass:"col-3"},[t._v("數量")]),s("div",{staticClass:"col-3"},[t._v("小計")])])])}],d=(s("c5f6"),{props:{items:{type:Array,required:!0},originAmount:{type:Number,default:-1},shippingFee:{type:Number,default:-1},subtotal:{type:Number,default:-1},order:{type:Object,required:!0},paymentType:{type:Array,required:!0},paymentStatus:{type:Array,required:!0},shipmentType:{type:Array,required:!0},shipmentStatus:{type:Array,required:!0},shipmentConvenienceStore:{type:Array,required:!0}},computed:{lastpaymentType:function(){return this.paymentType.slice(-1)[0]},lastPaymentStatus:function(){return this.paymentStatus.slice(-1)[0]},lastShipmentType:function(){return this.shipmentType.slice(-1)[0]},lastShipmentStatus:function(){return this.shipmentStatus.slice(-1)[0]}}}),p=d,l=(s("2b11"),s("2877")),u=Object(l["a"])(p,o,c,!1,null,"62d69734",null),m=u.exports,v=s("0275"),h=s("2375"),y=s("2fa3"),b=s("2f62");function f(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function _(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?f(s,!0).forEach((function(e){Object(n["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):f(s).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var g={components:{OrderDetails:m,Spinner:h["a"]},data:function(){return{order:{},items:[],paymentType:[],paymentStatus:[],shipmentType:[],shipmentStatus:[],shipmentConvenienceStore:[],originAmount:-1,shippingFee:-1,subtotal:-1,isLoading:!1}},computed:_({},Object(b["b"])(["currentUser","isAuthenticated"])),beforeRouteUpdate:function(t,e,s){var r=t.params.id;this.fetchOrder({orderId:r}),s()},created:function(){var t=this.$route.params.id;this.fetchOrder({orderId:t})},methods:{fetchOrder:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var s,r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.orderId,t.prev=1,this.isLoading=!0,t.next=5,v["a"].getOrderSuccess({orderId:s});case 5:if(r=t.sent,i=r.data,a=r.statusText,"OK"===a){t.next=10;break}throw new Error(a);case 10:this.order=i.order,this.items=i.order.items,this.paymentType=i.order.PaymentType,this.paymentStatus=i.order.PaymentStatus,this.shipmentType=i.order.ShipmentType,this.shipmentStatus=i.order.ShipmentStatus,this.shipmentConvenienceStore=i.order.ShipmentConvenienceStore,this.originAmount=i.originAmount,this.shippingFee=i.shippingFee,this.subtotal=i.subtotal,this.isLoading=!1,t.next=27;break;case 23:t.prev=23,t.t0=t["catch"](1),this.isLoading=!1,y["a"].fire({type:"error",title:"無法取得訂單資料，請稍後再試"});case 27:case"end":return t.stop()}}),t,this,[[1,23]])})));function e(e){return t.apply(this,arguments)}return e}()}},C=g,S=(s("bc87"),Object(l["a"])(C,r,i,!1,null,"e0965d42",null));e["default"]=S.exports},bc87:function(t,e,s){"use strict";var r=s("5ade"),i=s.n(r);i.a}}]);
//# sourceMappingURL=chunk-7468f7d5.113cd6d2.js.map